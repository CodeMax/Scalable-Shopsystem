{"version":3,"sources":["app/app.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA2C,eAAe,CAAC,CAAA;AAC3D,uBAAgD,iBAAiB,CAAC,CAAA;AAClE,2BAA2C,cAAc,CAAC,CAAA;AAC1D,iCAA8B,2BAA2B,CAAC,CAAA;AAC1D,8BAA2B,iBAAiB,CAAC,CAAA;AAC7C,iCAA8B,2BAA2B,CAAC,CAAA;AAC1D,8BAA+C,6BAA6B,CAAC,CAAA;AAC7E,2CAAwC,+CAA+C,CAAC,CAAA;AACxF,mCAAgC,+BAA+B,CAAC,CAAA;AAUhE;IAOI,sBAAoB,OAAe,EAAU,aAA2B;QAP5E,iBAuDC;QAhDuB,YAAO,GAAP,OAAO,CAAQ;QAAU,kBAAa,GAAb,aAAa,CAAc;QACpE,IAAI,CAAC,SAAS,GAAG,uBAAU,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,6BAAgB,CAAC;QACvC,aAAa,CAAC,YAAY,CAAC,SAAS,CAClC,UAAA,YAAY;YACV,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACT,CAAC;IAED,+BAAQ,GAAR;QACI,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YACxD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAClD,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACpD,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBACb,QAAQ,CAAC;YACb,CAAC;QACJ,CAAC;QAED,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAC7D,IAAI,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YACxC,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YAC5D,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAC9D,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAClB,QAAQ,CAAC;YACb,CAAC;QACJ,CAAC;QAEF,EAAE,CAAC,CAAC,CAAC,UAAU,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;IACN,CAAC;IAED,4BAAK,GAAL;QACI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAED,iCAAU,GAAV;QACI,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC;IAED,oCAAa,GAAb,UAAc,QAAQ,EAAE,QAAQ;QAC9B,OAAO,CAAC,GAAG,CAAC,+BAA+B,GAAG,QAAQ,GAAG,IAAI,GAAG,QAAQ,CAAC,CAAC;QAC1E,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAlDD;QAAC,gBAAS,CAAC,SAAS,CAAC;;+CAAA;IAZzB;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,aAAa;YACvB,WAAW,EAAE,cAAc;YAC3B,UAAU,EAAE,CAAC,kCAAe,EAAE,sDAAyB,EAAE,kCAAe;gBAC5D,sCAAiB,EAAE,0BAAiB,EAAE,gCAAgB,CAAC;YACnE,SAAS,EAAE,CAAC,4BAAY,CAAC;SAC5B,CAAC;QACD,eAAM,CAAC,uBAAU,CAAC,MAAM,CAAC,6BAAgB,CAAC,CAAC;;oBAAA;IAwD5C,mBAAC;AAAD,CAvDA,AAuDC,IAAA;AAvDY,oBAAY,eAuDxB,CAAA","file":"app/app.component.js","sourcesContent":["import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {Routes, ROUTER_DIRECTIVES, Router} from '@angular/router';\r\nimport {APP_ROUTES, APP_ROUTES_RIGHT} from './app.routes';\r\nimport {NavbarComponent} from './navbar/navbar.component';\r\nimport {LoginService} from './login.service';\r\nimport {HeaderComponent} from './header/header.component';\r\nimport {MODAL_DIRECTIVES, ModalComponent} from 'ng2-bs3-modal/ng2-bs3-modal';\r\nimport {ArticleInventoryComponent} from './articleInventory/articleInventory.component';\r\nimport {RegisterComponent} from './register/register.component';\r\n\r\n@Component({\r\n    selector: 'as-main-app',\r\n    templateUrl: 'app/app.html',\r\n    directives: [NavbarComponent, ArticleInventoryComponent, HeaderComponent,\r\n                RegisterComponent, ROUTER_DIRECTIVES, MODAL_DIRECTIVES],\r\n    providers: [LoginService]\r\n})\r\n@Routes(APP_ROUTES.concat(APP_ROUTES_RIGHT))\nexport class AppComponent implements OnInit {\r\n    public appRoutes: any[];\n    public appRoutesRight: any[];\n\r\n    @ViewChild('myModal')\r\n    modal: ModalComponent;\r\n\r\n    constructor(private _router: Router, private _loginService: LoginService) {\r\n        this.appRoutes = APP_ROUTES;\r\n        this.appRoutesRight = APP_ROUTES_RIGHT;\r\n        _loginService.loginNeeded$.subscribe(\r\n          needForLogin => {\r\n            this.startLogin();\r\n          });\r\n    }\r\n\r\n    ngOnInit() {\r\n        let validRoute = false;\r\n        for (let i = 0, len = this.appRoutes.length; i < len; i++) {\r\n            let route = this.appRoutes[i];\r\n            let urlTree = this._router.createUrlTree([route]);\r\n            validRoute = this._router.urlTree.contains(urlTree);\r\n            if (validRoute) {\r\n                continue;\r\n            }\r\n         }\r\n\n         let validRouteRight = false;\n         for (let i = 0, len = this.appRoutesRight.length; i < len; i++) {\r\n             let routeRight = this.appRoutesRight[i];\r\n             let urlTreeRight = this._router.createUrlTree([routeRight]);\r\n             validRouteRight = this._router.urlTree.contains(urlTreeRight);\r\n             if (validRouteRight) {\r\n                 continue;\r\n             }\r\n          }\n\r\n         if (!validRoute || !validRouteRight) {\r\n            this._router.navigateByUrl('/');\r\n         }\r\n    }\r\n\r\n    close() {\r\n        this.modal.close();\r\n    }\r\n\r\n    startLogin() {\r\n        this.modal.open();\r\n    }\r\n\r\n    onLoginSubmit(username, password) {\r\n      console.log('onLoginSubmit()-Credentials: ' + username + ', ' + password);\r\n      this._loginService.onSubmit(username, password);\r\n      this.close();\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}